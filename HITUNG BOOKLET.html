<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hitung Sisi A3 Booklet</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef1f5;
      padding: 30px;
    }
    .container {
      max-width: 550px;
      margin: auto;
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      margin-top: 10px;
      display: block;
    }
    select, input, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .result {
      background: #f9f9f9;
      padding: 15px;
      margin-top: 20px;
      border-left: 4px solid #0077cc;
      font-size: 16px;
    }
    .result p {
      margin: 8px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Hitung Sisi A3 Booklet</h2>

    <label for="ukuran">Ukuran Booklet</label>
    <select id="ukuran">
      <option value="A4">A4</option>
      <option value="A5">A5</option>
      <option value="A6">A6</option>
    </select>

    <label for="halamanIsi">Jumlah Halaman Isi per Buku</label>
    <input type="number" id="halamanIsi" placeholder="Contoh: 12" min="0" />

    <label for="jumlahBuku">Jumlah Buku yang Dicetak</label>
    <input type="number" id="jumlahBuku" placeholder="Contoh: 5" min="1" />

    <label for="pakaiCover">Apakah Menggunakan Cover?</label>
    <select id="pakaiCover" onchange="toggleCover()">
      <option value="tidak">Tidak</option>
      <option value="ya">Ya</option>
    </select>

    <div id="coverOptions" style="display: none;">
      <label for="halamanCover">Jumlah Halaman Cover per Buku</label>
      <input type="number" id="halamanCover" placeholder="Contoh: 4" min="0" />

      <label for="tipeCover">Tipe Cetak Cover</label>
      <select id="tipeCover">
        <option value="1">1 Sisi</option>
        <option value="2">Bolak-balik</option>
      </select>
    </div>

    <label for="kertasIsi">Jenis Kertas Isi</label>
    <select id="kertasIsi">
      <option value="HVS80+">HVS80+</option>
      <option value="HVS100+">HVS 100+</option>
      <option value="AP120">AP120</option>
      <option value="AP150">AP150</option>
      <option value="AP210">AP210</option>
      <option value="AP260">AP260</option>
      <option value="AP310">AP310</option>
      <option value="Blushwhite">Blushwhite</option>
      <option value="Jasmine">Jasmine</option>
      <option value="Copen">Copen</option>
    </select>

    <label for="kertasCover">Jenis Kertas Cover</label>
    <select id="kertasCover">
      <option value="HVS80+">HVS80+</option>
      <option value="HVS100+">HVS 100+</option>
      <option value="AP120">AP120</option>
      <option value="AP150">AP150</option>
      <option value="AP210">AP210</option>
      <option value="AP260">AP260</option>
      <option value="AP310">AP310</option>
      <option value="Blushwhite">Blushwhite</option>
      <option value="Jasmine">Jasmine</option>
      <option value="Copen">Copen</option>
    </select>

    <button onclick="hitung()">Hitung</button>

    <div class="result" id="hasil"></div>
  </div>

  <script>
    function toggleCover() {
      const coverSection = document.getElementById("coverOptions");
      const pakaiCover = document.getElementById("pakaiCover").value;
      coverSection.style.display = pakaiCover === "ya" ? "block" : "none";
    }

    function hitung() {
      const ukuran = document.getElementById("ukuran").value;
      const halamanIsi = parseInt(document.getElementById("halamanIsi").value);
      const jumlahBuku = parseInt(document.getElementById("jumlahBuku").value);
      const pakaiCover = document.getElementById("pakaiCover").value === "ya";
      const hasil = document.getElementById("hasil");

      if (isNaN(halamanIsi) || isNaN(jumlahBuku)) {
        hasil.innerHTML = "<p>Mohon isi semua data dengan benar.</p>";
        return;
      }

      let halamanPerLembar = 0;
      if (ukuran === "A4") halamanPerLembar = 4;
      else if (ukuran === "A5") halamanPerLembar = 8;
      else if (ukuran === "A6") halamanPerLembar = 16;

      const sisaIsi = halamanIsi % 4;
      const halamanKosong = sisaIsi === 0 ? 0 : 4 - sisaIsi;
      const totalHalamanIsi = (halamanIsi + halamanKosong) * jumlahBuku;
      const lembarIsi = Math.ceil(totalHalamanIsi / halamanPerLembar);
      const sisiIsi = lembarIsi * 2;

      const jenisKertasIsi = document.getElementById("kertasIsi").value;
      const jenisKertasCover = document.getElementById("kertasCover").value;

      let sisiCover = 0, distribusiCover = "";
      if (pakaiCover) {
        const halamanCover = parseInt(document.getElementById("halamanCover").value);
        const tipeCover = parseInt(document.getElementById("tipeCover").value);
        if (!isNaN(halamanCover)) {
          const totalHalamanCover = halamanCover * jumlahBuku;
          const lembarCover = Math.ceil(totalHalamanCover / halamanPerLembar);
          sisiCover = tipeCover === 1 ? lembarCover : lembarCover * 2;
        }

        // distribusi lembar A3 cover
        let sisa = jumlahBuku;
        if (ukuran === "A6") {
          const r4 = Math.floor(sisa / 4); sisa %= 4;
          const csr = Math.floor(sisa / 2); sisa %= 2;
          const cs4 = sisa;
          const lembarCover = r4 + csr + cs4;
          sisiCover = tipeCover === 1 ? lembarCover : lembarCover * 2;
        } else if (ukuran === "A5") {
          const r2 = Math.floor(sisa / 2); sisa %= 2;
          const cs2 = sisa;
          const lembarCover = r2 + cs2;
          sisiCover = tipeCover === 1 ? lembarCover : lembarCover * 2;
        }
      }

      const totalSisi = sisiIsi + sisiCover;

      let distribusiOutput = "";
      let sisa = jumlahBuku;
      if (ukuran === "A6") {
        const r4 = Math.floor(sisa / 4); sisa %= 4;
        const csr = Math.floor(sisa / 2); sisa %= 2;
        const cs4 = sisa;
        distribusiOutput = `
          <p><strong>Distribusi Kertas A3 (isi dan cover):</strong></p>
          <ul>
            ${r4 > 0 ? `<li>${r4} lembar R4 (4 buku)</li>` : ""}
            ${csr > 0 ? `<li>${csr} lembar CSR (2 buku)</li>` : ""}
            ${cs4 > 0 ? `<li>${cs4} lembar CS4 (1 buku)</li>` : ""}
          </ul>`;
      } else if (ukuran === "A5") {
        const r2 = Math.floor(sisa / 2); sisa %= 2;
        const cs2 = sisa;
        distribusiOutput = `
          <p><strong>Distribusi Kertas A3 (isi dan cover):</strong></p>
          <ul>
            ${r2 > 0 ? `<li>${r2} lembar R2 (2 buku)</li>` : ""}
            ${cs2 > 0 ? `<li>${cs2} lembar CS2 (1 buku)</li>` : ""}
          </ul>`;
      }

      hasil.innerHTML = `
        <p>Halaman kosong per buku (isi): <strong>${halamanKosong}</strong></p>
        <p>Total sisi A3 untuk isi (${jenisKertasIsi}): <strong>${sisiIsi}</strong></p>
        ${pakaiCover ? `<p>Total sisi A3 untuk cover (${jenisKertasCover}): <strong>${sisiCover}</strong></p>` : ""}
        <p><strong>Total semua sisi A3: ${totalSisi}</strong></p>
        ${distribusiOutput}
      `;
    }
  </script>
</body>
</html>
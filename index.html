<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>✤ SPC Tools ✤</title>

  <!-- ====== FAVICON SETUP ====== -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="180x180" href="favicon-180.png">
  <meta name="theme-color" content="#1e3a5f">

  <!-- ====== ICONS ====== -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    * { box-sizing: border-box; scrollbar-width: none; }
    *::-webkit-scrollbar { display: none; }
    html, body {
      margin: 0; height: 100%;
      font-family: "Segoe UI", "Inter", sans-serif;
      background: linear-gradient(135deg, #eaf1ff, #f9fcff);
      color: #1e293b;
      overflow: hidden;
    }

    .container { display: flex; height: 100vh; width: 100%; }

    /* SIDEBAR */
    .sidebar {
      width: 250px;
      background: linear-gradient(180deg,#1e3a5f,#122946);
      color: #fff;
      display: flex;
      flex-direction: column;
      padding: 1.2rem;
      box-shadow: 5px 0 20px rgba(0,0,0,0.15);
      position: relative;
      z-index: 5;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
      margin-bottom: 1.5rem;
      opacity: 0;
      animation: fadeInDown 0.7s ease forwards;
    }
    .logo img {
      width: 40px; height: 40px;
      border-radius: 8px;
      animation: glowPulse 2.5s ease-in-out infinite;
      box-shadow: 0 0 6px rgba(173, 216, 255, 0.5);
    }
    .logo span {
      font-size: 1.2rem;
      font-weight: 600;
      letter-spacing: 0.3px;
    }

    nav {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
      opacity: 0;
      animation: fadeInUp 1s ease forwards;
    }
    nav a {
      text-decoration: none;
      color: #fff;
      background: rgba(255,255,255,0.08);
      padding: 10px 12px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: 0.25s all;
      position: relative;
      overflow: hidden;
    }
    nav a::before {
      content: ""; position: absolute; inset: 0;
      background: linear-gradient(90deg, rgba(255,255,255,0.25), transparent 70%);
      transform: translateX(-100%);
      transition: transform 0.4s ease;
    }
    nav a:hover::before { transform: translateX(0); }
    nav a:hover { transform: translateX(4px); background: rgba(255,255,255,0.12); }
    nav a.active { background: #2e5c8f; }

    .footer {
      font-size: 12px; color: #cbd5e1; text-align: center;
      margin-top: 1rem;
      opacity: 0; animation: fadeIn 1s ease 0.6s forwards;
    }

    /* MAIN AREA */
    .main {
      flex: 1; display: flex; flex-direction: column;
      position: relative; overflow: hidden;
    }
    header {
      background: #fff;
      padding: 0.9rem 1rem;
      border-bottom: 1px solid #e5e7eb;
      display: flex; align-items: center; justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    header h1 { font-size: 1.05rem; color: #1e3a5f; margin: 0; font-weight: 600; }
    header button {
      border: none; background: #1e3a5f; color: #fff;
      padding: 6px 12px; border-radius: 6px;
      cursor: pointer; transition: 0.3s;
    }
    header button:hover { background: #2d5b8a; transform: scale(1.05); }

    .frame-wrap { flex: 1; position: relative; overflow: hidden; }
    iframe {
      width: 100%; height: 100%;
      border: none; opacity: 0; transform: scale(1.02);
      transition: opacity .4s ease, transform .4s ease;
      background: #fff;
    }
    iframe.loaded { opacity: 1; transform: scale(1); }

    .loader {
      position: absolute; inset: 0;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(3px);
      transition: opacity .4s ease;
      opacity: 0; pointer-events: none;
    }
    .loader.active { opacity: 1; pointer-events: all; }
    .spinner {
      width: 40px; height: 40px;
      border: 4px solid #dbeafe;
      border-top: 4px solid #1e3a5f;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    .loader span { margin-top: 10px; color: #1e3a5f; font-size: 13px; }

    /* ANIMATIONS */
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes fadeIn { from{opacity:0} to{opacity:1} }
    @keyframes fadeInUp { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:none} }
    @keyframes fadeInDown { from{opacity:0;transform:translateY(-10px)} to{opacity:1;transform:none} }
    @keyframes glowPulse {
		0%, 100% { 
			box-shadow: 0 0 6px rgba(253,216,53,0.5), 0 0 12px rgba(255,255,255,0.2);
		}
		50% { 
			box-shadow: 0 0 14px rgba(253,216,53,0.9), 0 0 30px rgba(255,255,255,0.3);
		}
		}

    @media(max-width:800px){
      .sidebar { width: 220px; }
      .logo span { font-size: 1rem; }
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="logo">
        <img src="favicon-64.png" alt="SPC Logo">
        <span>SPC Tools</span>
      </div>

      <nav>
        <a href="#/booklet" data-file="HITUNG BOOKLET.html" class="active"><i class="fa-solid fa-book-open"></i> Hitung Booklet</a>
        <a href="#/softcover" data-file="HITUNG SOFTCOVER.html"><i class="fa-solid fa-book"></i> Hitung Softcover</a>
        <a href="#/objek" data-file="HITUNG OBJEK.html"><i class="fa-solid fa-th"></i> Hitung Objek</a>
        <a href="#/bw" data-file="PISAH WARNA BW.html"><i class="fa-solid fa-fill-drip"></i> Pisah Warna BW</a>
        <a href="#/editbg" data-file="EDIT BG.html"><i class="fa-solid fa-wand-magic-sparkles"></i> Edit BG Foto</a>
        <a href="#/img2pdf" data-file="IMG TO PDF.html"><i class="fa-solid fa-image"></i> IMG to PDF</a>
        <a href="#/pdf2img" data-file="PDF TO IMG.html"><i class="fa-solid fa-file-pdf"></i> PDF to IMG</a>
        <a href="#/proporsional" data-file="/pdfjs/HITUNG PROPORSIONAL.html"><i class="fa-solid fa-expand"></i> Hitung Proporsional</a>
        <a href="#/spiral" data-file="HITUNG UKURAN SPIRAL.html"><i class="fa-solid fa-ruler-combined"></i> Ukuran Spiral & Punggung Buku</a>
      </nav>

      <div class="footer">© 2025 Spectrum Digital Printing</div>
    </aside>

    <!-- MAIN -->
    <div class="main">
      <header>
        <h1 id="pageTitle">SPC Tools — Utility Panel</h1>
        <button onclick="reloadTool()"><i class="fa-solid fa-rotate-right"></i> Refresh</button>
      </header>

      <div class="frame-wrap">
        <iframe id="toolFrame"></iframe>
        <div class="loader" id="loader">
          <div class="spinner"></div>
          <span>Memuat tool...</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    const frame = document.getElementById("toolFrame");
    const links = document.querySelectorAll("nav a");
    const title = document.getElementById("pageTitle");
    const loader = document.getElementById("loader");

    function loadTool(el, file) {
      links.forEach(a => a.classList.remove("active"));
      el.classList.add("active");
      showLoader(true);
      frame.classList.remove("loaded");
      frame.src = file;
      title.textContent = "SPC Tools — " + el.textContent.trim();
      localStorage.setItem("spc:last", file);
    }

    function reloadTool() {
      if (frame.src) frame.contentWindow.location.reload();
    }

    function showLoader(state) { loader.classList.toggle("active", state); }

    frame.onload = () => {
      frame.classList.add("loaded");
      showLoader(false);
    };

    function openFromHash() {
      const hash = location.hash.replace("#/", "");
      let found = false;
      links.forEach(a => {
        if (a.getAttribute("href") === "#/" + hash) {
          loadTool(a, a.dataset.file);
          found = true;
        }
      });
      if (!found) {
        const last = localStorage.getItem("spc:last");
        if (last) frame.src = last;
        else frame.src = links[0].dataset.file;
        frame.classList.add("loaded");
      }
    }

    links.forEach(a => {
      a.addEventListener("click", e => {
        e.preventDefault();
        loadTool(a, a.dataset.file);
        history.replaceState(null, "", a.getAttribute("href"));
      });
    });

    openFromHash();
  </script>
</body>
</html>
